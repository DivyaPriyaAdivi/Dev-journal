{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Tailwind Play CDN (dev) with Typography plugin for `prose` -->
  <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
  {% if title %}<title>Dev Journal - {{ title }}</title>{% else %}<title>Dev Journal</title>{% endif %}
</head>
<body class="bg-white text-black min-h-screen flex flex-col">
  <!-- Fixed header -->
  <header class="fixed top-0 inset-x-0 h-16 bg-white border-b border-gray-200 z-50">
    <nav class="flex justify-between items-center px-4 sm:px-6 lg:px-8 h-full">
      <div class="flex items-center gap-2">
        <span class="font-bold text-lg">DEV JOURNAL</span>
      </div>
      <div>
        <a href="{% url 'about-blog' %}" class="text-gray-500 text-sm sm:text-base px-3 py-2">about</a>
      </div>
    </nav>
  </header>

  {% if user.is_authenticated %}
  <!-- Sidebar: hidden on mobile, fixed at md+ -->
  <aside class="hidden md:block fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] overflow-y-auto bg-white border-r border-gray-200">
    <nav class="p-3" role="navigation" aria-label="Sidebar">
      <a href="{% url 'Blog-home' %}" class="block px-3 py-2 rounded-md hover:bg-gray-50">Home</a>
      <a href="{% url 'profile' %}" class="block px-3 py-2 rounded-md hover:bg-gray-50">Profile</a>
      <a href="{% url 'about-blog' %}" class="block px-3 py-2 rounded-md hover:bg-gray-50">About</a>
  <form method="post" action="{% url 'logout' %}">
    {% csrf_token %}
    <button type="submit" class="block w-full text-left px-3 py-2 rounded-md hover:bg-gray-50">
      Log out
    </button>
  </form>


    </nav>
  </aside>
  {% endif %}


  <main role="main" class="pt-16 {% if user.is_authenticated %}md:ml-64{% endif %} flex-grow">
    {% if messages %}
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 space-y-3">
        {% for message in messages %}
          <div class="mb-3 border rounded px-4 py-3
            {% if 'success' in message.tags %}bg-green-50 text-green-700 border-green-200
            {% elif 'error' in message.tags %}bg-red-50 text-red-700 border-red-200
            {% elif 'warning' in message.tags %}bg-yellow-50 text-yellow-800 border-yellow-200
            {% else %}bg-gray-50 text-gray-700 border-gray-200{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    {% block content %}{% endblock %}
  </main>
</body>
</html>
